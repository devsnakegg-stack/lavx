{"version":3,"sources":["../src/Index.ts","../src/Sock.ts","../src/Rest.ts","../src/NodeMan.ts","../src/Voice.ts","../src/Track.ts","../src/Player.ts","../src/PlayMan.ts","../src/History.ts","../src/Queue.ts","../src/QMan.ts","../src/SrcMan.ts","../src/EvtMan.ts","../src/Client.ts","../src/Map.ts"],"sourcesContent":["export * from './Client';\nexport * from './NodeMan';\nexport * from './Sock';\nexport * from './Rest';\nexport * from './Player';\nexport * from './PlayMan';\nexport * from './Queue';\nexport * from './History';\nexport * from './Track';\nexport * from './QMan';\nexport * from './SrcMan';\nexport * from './Map';\nexport * from './EvtMan';\nexport * from './Voice';\n","import WebSocket from 'ws';\nimport { Node } from './NodeMan';\n\nexport class Sock {\n  public readonly node: Node;\n  private ws: WebSocket | null = null;\n  private reconnectTimeout: NodeJS.Timeout | null = null;\n  private reconnectAttempts: number = 0;\n\n  constructor(node: Node) {\n    this.node = node;\n  }\n\n  public connect() {\n    if (this.ws && this.ws.readyState === WebSocket.OPEN) return;\n\n    const { host, port, auth, secure } = this.node.options;\n    const protocol = secure ? 'wss' : 'ws';\n    const url = `${protocol}://${host}:${port}/v4/websocket`;\n\n    const userId = this.node.client.discord.user?.id;\n    if (!userId) {\n      // If client is not ready, retry in 5s\n      this.reconnect();\n      return;\n    }\n\n    this.ws = new WebSocket(url, {\n      headers: {\n        Authorization: auth,\n        'User-Id': userId,\n        'Client-Name': 'lavx',\n      },\n    });\n\n    this.ws.on('open', () => this.onOpen());\n    this.ws.on('message', (data) => this.onMessage(data));\n    this.ws.on('close', (code, reason) => this.onClose(code, reason));\n    this.ws.on('error', (err) => this.onError(err));\n  }\n\n  private onOpen() {\n    this.node.connected = true;\n    this.reconnectAttempts = 0;\n    this.node.client.events.emit('nodeConnect', this.node);\n  }\n\n  private onMessage(data: any) {\n    let payload: any;\n    try {\n      payload = JSON.parse(data.toString());\n    } catch (e) {\n      return;\n    }\n\n    this.node.client.events.emit('raw', payload);\n\n    switch (payload.op) {\n      case 'stats':\n        this.node.stats = payload;\n        break;\n      case 'event':\n        this.handlePlayerEvent(payload);\n        break;\n      case 'playerUpdate':\n        this.handlePlayerUpdate(payload);\n        break;\n      case 'ready':\n        this.node.sessionId = payload.sessionId;\n        this.node.client.events.emit('nodeReady', this.node, payload);\n        break;\n    }\n  }\n\n  private handlePlayerEvent(payload: any) {\n    const player = this.node.client.play.get(payload.guildId);\n    if (!player) return;\n\n    switch (payload.type) {\n      case 'TrackStartEvent':\n        this.node.client.events.emit('trackStart', player, payload.track);\n        break;\n      case 'TrackEndEvent':\n        this.node.client.events.emit('trackEnd', player, payload.track, payload.reason);\n        player.onTrackEnd(payload);\n        break;\n      case 'TrackExceptionEvent':\n        this.node.client.events.emit('trackError', player, payload.track, payload.exception);\n        break;\n      case 'TrackStuckEvent':\n        this.node.client.events.emit('trackStuck', player, payload.track, payload.thresholdMs);\n        break;\n      case 'WebSocketClosedEvent':\n        this.node.client.events.emit('playerDisconnect', player, payload.code, payload.reason, payload.byRemote);\n        break;\n    }\n  }\n\n  private handlePlayerUpdate(payload: any) {\n    const player = this.node.client.play.get(payload.guildId);\n    if (player) {\n      player.state = { ...player.state, ...payload.state };\n    }\n  }\n\n  private onClose(code: number, reason: any) {\n    this.node.connected = false;\n    this.node.sessionId = null;\n    this.node.client.events.emit('nodeDisconnect', this.node, code, reason.toString());\n    this.reconnect();\n  }\n\n  private onError(err: any) {\n    this.node.client.events.emit('nodeError', this.node, err);\n  }\n\n  private reconnect() {\n    if (this.reconnectTimeout) clearTimeout(this.reconnectTimeout);\n    \n    const maxAttempts = this.node.client.options.maxReconnectAttempts || 10;\n    if (this.reconnectAttempts >= maxAttempts) {\n      this.node.client.node.handleNodeFailure(this.node);\n      return;\n    }\n\n    this.reconnectAttempts++;\n    this.reconnectTimeout = setTimeout(() => {\n      this.node.client.events.emit('nodeReconnect', this.node);\n      this.connect();\n    }, Math.min(this.reconnectAttempts * 5000, 30000));\n  }\n\n  public send(payload: any) {\n    if (this.ws && this.ws.readyState === WebSocket.OPEN) {\n      this.ws.send(JSON.stringify(payload));\n    }\n  }\n\n  public close() {\n    if (this.ws) {\n      this.ws.removeAllListeners();\n      this.ws.close();\n      this.ws = null;\n    }\n  }\n}\n","import { fetch } from 'undici';\nimport { Node } from './NodeMan';\n\nexport class Rest {\n  public readonly node: Node;\n\n  constructor(node: Node) {\n    this.node = node;\n  }\n\n  private get url() {\n    const { host, port, secure } = this.node.options;\n    return `${secure ? 'https' : 'http'}://${host}:${port}/v4`;\n  }\n\n  public async request(method: string, path: string, body?: any) {\n    const res = await fetch(`${this.url}${path}`, {\n      method,\n      headers: {\n        Authorization: this.node.options.auth,\n        'Content-Type': 'application/json',\n      },\n      body: body ? JSON.stringify(body) : undefined,\n    });\n\n    if (res.status >= 400) {\n      const error: any = await res.json().catch(() => null);\n      const message = error?.message || error?.error || JSON.stringify(error) || 'Unknown error';\n      throw new Error(`Lavalink REST error: ${res.status} - ${message}`);\n    }\n\n    if (res.status === 204) return null;\n    return res.json();\n  }\n\n  public async loadTracks(identifier: string) {\n    return this.request('GET', `/loadtracks?identifier=${encodeURIComponent(identifier)}`);\n  }\n\n  public async decodeTrack(track: string) {\n    return this.request('GET', `/decodetrack?track=${track}`);\n  }\n\n  public async decodeTracks(tracks: string[]) {\n    return this.request('POST', `/decodetracks`, tracks);\n  }\n\n  public async getStats() {\n    return this.request('GET', `/stats`);\n  }\n\n  public async getInfo() {\n    return this.request('GET', `/info`);\n  }\n\n  public async updatePlayer(guildId: string, data: any, noReplace: boolean = false) {\n    if (!this.node.sessionId) throw new Error('Node session ID not available');\n    return this.request('PATCH', `/sessions/${this.node.sessionId}/players/${guildId}?noReplace=${noReplace}`, data);\n  }\n}\n","import { Client, NodeOptions } from './Client';\nimport { Sock } from './Sock';\nimport { Rest } from './Rest';\nimport { Player } from './Player';\n\nexport class NodeMan {\n  public readonly client: Client;\n  public readonly nodes: Map<string, Node>;\n\n  constructor(client: Client) {\n    this.client = client;\n    this.nodes = new Map();\n  }\n\n  public add(options: NodeOptions) {\n    const name = options.name || `${options.host}:${options.port}`;\n    const node = new Node(this.client, name, options);\n    this.nodes.set(name, node);\n    node.connect();\n    return node;\n  }\n\n  public get(name: string) {\n    return this.nodes.get(name);\n  }\n\n  public best() {\n    return Array.from(this.nodes.values())\n      .filter((n) => n.connected && n.sessionId)\n      .sort((a, b) => (a.stats?.players || 0) - (b.stats?.players || 0))[0];\n  }\n\n  public destroy(name: string) {\n    const node = this.nodes.get(name);\n    if (node) {\n      node.destroy();\n      this.nodes.delete(name);\n    }\n  }\n\n  public async migrate(fromNode: Node, toNode?: Node) {\n    const targetNode = toNode || this.best();\n    if (!targetNode || targetNode === fromNode) return;\n\n    const players = Array.from(this.client.play.players.values()).filter(p => p.node === fromNode);\n    for (const player of players) {\n      await player.moveToNode(targetNode);\n    }\n  }\n\n  public async handleNodeFailure(node: Node) {\n    // This is called when a node is definitely down or destroyed\n    await this.migrate(node);\n  }\n}\n\nexport class Node {\n  public readonly client: Client;\n  public readonly name: string;\n  public readonly options: NodeOptions;\n  public readonly sock: Sock;\n  public readonly rest: Rest;\n  public connected: boolean = false;\n  public sessionId: string | null = null;\n  public stats: any = null;\n\n  constructor(client: Client, name: string, options: NodeOptions) {\n    this.client = client;\n    this.name = name;\n    this.options = options;\n    this.sock = new Sock(this);\n    this.rest = new Rest(this);\n  }\n\n  public connect() {\n    this.sock.connect();\n  }\n\n  public destroy() {\n    this.sock.close();\n  }\n}\n","import { Player } from './Player';\n\nexport class Voice {\n  public readonly player: Player;\n  public sessionId: string | null = null;\n  public token: string | null = null;\n  public endpoint: string | null = null;\n  public channelId: string | null = null;\n\n  constructor(player: Player) {\n    this.player = player;\n  }\n\n  public update(data: any) {\n    if (data.token) {\n      this.token = data.token;\n      this.endpoint = data.endpoint;\n    } else if (data.session_id) {\n      this.sessionId = data.session_id;\n\n      if (data.channel_id !== this.channelId) {\n        const oldChannelId = this.channelId;\n        this.channelId = data.channel_id;\n        this.player.node.client.events.emit('playerMove', this.player, oldChannelId, this.channelId);\n      }\n    }\n\n    if (this.token && this.sessionId && this.endpoint) {\n      this.player.node.rest.updatePlayer(this.player.guildId, {\n        voice: {\n          token: this.token,\n          endpoint: this.endpoint,\n          sessionId: this.sessionId,\n        },\n      });\n    }\n  }\n}\n","export type SourceNames = \n  | \"youtube\" | \"youtubemusic\" | \"soundcloud\" | \"bandcamp\" | \"twitch\"\n  | \"deezer\" | \"spotify\" | \"applemusic\" | \"yandexmusic\" | \"flowery-tts\" \n  | \"vkmusic\" | \"tidal\" | \"qobuz\" | \"pandora\" | \"jiosaavn\" | string;\n\nexport interface TrackInfo {\n  identifier: string;\n  isSeekable: boolean;\n  author: string;\n  length: number;\n  duration: number;\n  isStream: boolean;\n  position: number;\n  title: string;\n  uri: string;\n  artworkUrl?: string;\n  isrc?: string;\n  sourceName: SourceNames;\n}\n\nexport interface PluginInfo {\n  type?: string;\n  albumName?: string;\n  albumUrl?: string;\n  albumArtUrl?: string;\n  artistUrl?: string;\n  artistArtworkUrl?: string;\n  previewUrl?: string;\n  isPreview?: boolean;\n  totalTracks?: number;\n  [key: string]: any;\n}\n\nexport interface Track {\n  track: string;\n  info: TrackInfo;\n  pluginInfo: PluginInfo;\n  src: string;\n  requester?: any;\n  userData?: any;\n}\n\nexport interface UnresolvedTrack extends Partial<Track> {\n  resolve: (player: any) => Promise<boolean>;\n}\n\nexport function isUnresolvedTrack(track: any): track is UnresolvedTrack {\n  return typeof track.resolve === 'function';\n}\n","import { Node } from './NodeMan';\nimport { Voice } from './Voice';\nimport { isUnresolvedTrack, Track } from './Track';\n\nexport enum DestroyReason {\n  ChannelDeleted = 'CHANNEL_DELETED',\n  Disconnected = 'DISCONNECTED',\n  PlayerDestroyed = 'PLAYER_DESTROYED',\n  NodeDestroyed = 'NODE_DESTROYED',\n  LoadFailed = 'LOAD_FAILED',\n}\n\nexport class Player {\n  public node: Node;\n  public readonly guildId: string;\n  public readonly voice: Voice;\n  public playing: boolean = false;\n  public paused: boolean = false;\n  public state: {\n    time: number;\n    position: number;\n    connected: boolean;\n    ping: number;\n  } = {\n    time: 0,\n    position: 0,\n    connected: false,\n    ping: -1,\n  };\n  public volume: number = 100;\n  public filters: any = {};\n  public options: {\n      autoRecover: boolean;\n      autoResume: boolean;\n      gapless: boolean;\n      smartBuffer: boolean;\n  } = {\n      autoRecover: false,\n      autoResume: false,\n      gapless: false,\n      smartBuffer: false,\n  };\n\n  private fadeInterval: NodeJS.Timeout | null = null;\n\n  constructor(node: Node, guildId: string) {\n    this.node = node;\n    this.guildId = guildId;\n    this.voice = new Voice(this);\n  }\n\n  public async play(options: { track?: string; startTime?: number; endTime?: number; noReplace?: boolean } = {}) {\n    const queue = this.node.client.queue.get(this.guildId);\n    \n    if (!options.track && (!queue.current || isUnresolvedTrack(queue.current))) {\n        const next = queue.current || queue.tracks[0];\n        if (next && isUnresolvedTrack(next)) {\n            const resolved = await next.resolve(this);\n            if (!resolved) {\n                queue.tracks.shift();\n                return this.onTrackEnd({ reason: 'loadFailed' });\n            }\n            if (!queue.current) queue.current = queue.tracks.shift() as Track;\n        }\n    }\n\n    const track = options.track || queue.current?.track;\n    if (!track) throw new Error('No track to play');\n\n    await this.node.rest.updatePlayer(this.guildId, {\n      encodedTrack: track,\n      position: options.startTime,\n      endTime: options.endTime,\n    }, options.noReplace);\n\n    this.playing = true;\n    this.paused = false;\n  }\n\n  public async stop() {\n    await this.node.rest.updatePlayer(this.guildId, { encodedTrack: null });\n    this.playing = false;\n    this.paused = false;\n  }\n\n  public async pause(state: boolean = true) {\n    await this.node.rest.updatePlayer(this.guildId, { paused: state });\n    this.paused = state;\n  }\n\n  public async resume() {\n    await this.pause(false);\n  }\n\n  public async seek(position: number) {\n    await this.node.rest.updatePlayer(this.guildId, { position });\n  }\n\n  public async rewind(ms: number) {\n      const newPos = Math.max(0, this.state.position - ms);\n      await this.seek(newPos);\n  }\n\n  public async forward(ms: number) {\n      await this.seek(this.state.position + ms);\n  }\n\n  public async restart() {\n      await this.seek(0);\n  }\n\n  public async setVolume(volume: number) {\n    await this.node.rest.updatePlayer(this.guildId, { volume });\n    this.volume = volume;\n  }\n\n  public async fadeIn(ms: number) {\n      if (this.fadeInterval) clearInterval(this.fadeInterval);\n      const targetVolume = this.volume;\n      let currentVolume = 0;\n      await this.setVolume(currentVolume);\n      \n      const step = targetVolume / (ms / 100);\n      this.fadeInterval = setInterval(async () => {\n          currentVolume += step;\n          if (currentVolume >= targetVolume) {\n              currentVolume = targetVolume;\n              clearInterval(this.fadeInterval!);\n              this.fadeInterval = null;\n          }\n          await this.setVolume(Math.round(currentVolume));\n      }, 100);\n  }\n\n  public async fadeOut(ms: number) {\n      if (this.fadeInterval) clearInterval(this.fadeInterval);\n      const startVolume = this.volume;\n      let currentVolume = startVolume;\n      \n      const step = startVolume / (ms / 100);\n      this.fadeInterval = setInterval(async () => {\n          currentVolume -= step;\n          if (currentVolume <= 0) {\n              currentVolume = 0;\n              clearInterval(this.fadeInterval!);\n              this.fadeInterval = null;\n          }\n          await this.setVolume(Math.round(currentVolume));\n      }, 100);\n  }\n\n  public async setFilters(filters: any) {\n    await this.node.rest.updatePlayer(this.guildId, { filters });\n    this.filters = { ...this.filters, ...filters };\n  }\n\n  public async clearFilters() {\n      await this.node.rest.updatePlayer(this.guildId, { \n          filters: {\n              equalizer: [],\n              timescale: null,\n              karaoke: null,\n              tremolo: null,\n              vibrato: null,\n              rotation: null,\n              distortion: null,\n              channelMix: null,\n              lowPass: null\n          } \n      });\n      this.filters = {};\n  }\n\n  public async setEQ(bands: { band: number; gain: number }[]) {\n      await this.setFilters({ equalizer: bands });\n  }\n\n  public async setAudioOutput(output: 'left' | 'right' | 'mono' | 'stereo') {\n    if (output === 'left') await this.balance(1.0, 0.0);\n    else if (output === 'right') await this.balance(0.0, 1.0);\n    else if (output === 'mono') await this.mono();\n    else if (output === 'stereo') await this.stereo();\n  }\n\n  public async balance(left: number, right: number) {\n      await this.setFilters({\n          channelMix: {\n              leftToLeft: left,\n              leftToRight: 1.0 - left,\n              rightToLeft: 1.0 - right,\n              rightToRight: right,\n          }\n      });\n  }\n\n  public async mono() {\n      await this.setFilters({\n          channelMix: {\n              leftToLeft: 0.5,\n              leftToRight: 0.5,\n              rightToLeft: 0.5,\n              rightToRight: 0.5,\n          }\n      });\n  }\n\n  public async stereo() {\n      await this.setFilters({\n          channelMix: {\n              leftToLeft: 1.0,\n              leftToRight: 0.0,\n              rightToLeft: 0.0,\n              rightToRight: 1.0,\n          }\n      });\n  }\n\n  public async bassboost(level: number = 1) {\n      const gains = [0.2, 0.4, 0.6, 0.8, 1.0];\n      const gain = gains[Math.min(level, gains.length) - 1] || 0.6;\n      await this.setFilters({\n          equalizer: [\n              { band: 0, gain },\n              { band: 1, gain: gain * 0.8 },\n              { band: 2, gain: gain * 0.5 }\n          ]\n      });\n  }\n\n  public async nightcore() {\n      await this.setFilters({ timescale: { speed: 1.1, pitch: 1.2, rate: 1.0 } });\n  }\n\n  public async vaporwave() {\n      await this.setFilters({ timescale: { speed: 0.85, pitch: 0.8 } });\n  }\n\n  public async autoplay() {\n      const queue = this.node.client.queue.get(this.guildId);\n      queue.autoplay = !queue.autoplay;\n      return queue.autoplay;\n  }\n\n  public async autoRecover() {\n      this.options.autoRecover = !this.options.autoRecover;\n  }\n\n  public async autoResume() {\n      this.options.autoResume = !this.options.autoResume;\n  }\n\n  public async preloadNext() {\n      const queue = this.node.client.queue.get(this.guildId);\n      const next = queue.tracks[0];\n      if (next && isUnresolvedTrack(next)) {\n          await next.resolve(this);\n      }\n  }\n\n  public async moveToNode(toNode: Node) {\n    if (this.node === toNode) return;\n    const position = this.state.position;\n    this.node = toNode;\n    if (this.playing || this.paused) {\n      await this.play({ startTime: position });\n    }\n  }\n\n  public async moveToChannel(channelId: string, options: { mute?: boolean; deaf?: boolean } = {}) {\n    await this.connect(channelId, options);\n  }\n\n  public async connect(channelId: string, options: { mute?: boolean; deaf?: boolean } = {}) {\n    this.node.client.sendGatewayPayload(this.guildId, {\n      op: 4,\n      d: {\n        guild_id: this.guildId,\n        channel_id: channelId,\n        self_mute: options.mute ?? false,\n        self_deaf: options.deaf ?? false,\n      },\n    });\n  }\n\n  public async disconnect() {\n    this.node.client.sendGatewayPayload(this.guildId, {\n      op: 4,\n      d: {\n        guild_id: this.guildId,\n        channel_id: null,\n        self_mute: false,\n        self_deaf: false,\n      },\n    });\n\n    await this.stop();\n  }\n\n  public async onTrackEnd(payload: any) {\n    this.playing = false;\n    if (payload.reason !== 'replaced' && payload.reason !== 'stopped') {\n      const queue = this.node.client.queue.get(this.guildId);\n      if (await queue.next()) {\n        await this.play();\n      } else if (queue.autoplay) {\n          const last = await queue.history.last();\n          if (last) await this.handleAutoplay(last);\n          else this.node.client.events.emit('queueEnd', this);\n      } else {\n        this.node.client.events.emit('queueEnd', this);\n      }\n    }\n  }\n\n  private async handleAutoplay(lastTrack: any) {\n    const source = lastTrack.source;\n    let query = '';\n\n    if (source === 'youtube') {\n      query = `https://www.youtube.com/watch?v=${lastTrack.uri.split('v=')[1] || lastTrack.uri}&list=RD${lastTrack.uri.split('v=')[1] || lastTrack.uri}`;\n    } else if (source === 'spotify') {\n      query = `sprec:${lastTrack.uri}`;\n    } else if (source === 'deezer') {\n      query = `dzrec:${lastTrack.uri}`;\n    } else if (source === 'apple-music') {\n      query = `amrec:${lastTrack.uri}`;\n    } else {\n      const defaultSearch = this.node.client.options.defaultSearchPlatform || 'ytsearch';\n      query = `${defaultSearch}:${lastTrack.author} ${lastTrack.title} related`;\n    }\n\n    let res = await this.node.client.src.resolve(query);\n\n    if ((!res || !res.tracks.length) && query.includes('rec:')) {\n      const defaultSearch = this.node.client.options.defaultSearchPlatform || 'ytsearch';\n      res = await this.node.client.src.resolve(`${defaultSearch}:${lastTrack.author} ${lastTrack.title} related`);\n    }\n\n    if (res && res.tracks.length > 0) {\n      const track = res.tracks.find(t => t.info?.uri !== lastTrack.uri) || res.tracks[0];\n      const queue = this.node.client.queue.get(this.guildId);\n      await queue.add(track);\n      await this.play();\n    } else {\n      this.node.client.events.emit('queueEnd', this);\n    }\n  }\n\n  public filterPresets = {\n    bassboost: { equalizer: [{ band: 0, gain: 0.6 }, { band: 1, gain: 0.67 }, { band: 2, gain: 0.67 }] },\n    nightcore: { timescale: { speed: 1.1, pitch: 1.2, rate: 1.0 } },\n    vaporwave: { timescale: { speed: 0.85, pitch: 0.8 } },\n    pop: { equalizer: [{ band: 0, gain: 0.65 }, { band: 1, gain: 0.45 }, { band: 2, gain: -0.45 }, { band: 3, gain: -0.65 }, { band: 4, gain: 0.7 }, { band: 5, gain: 0.45 }] },\n    soft: { equalizer: [{ band: 0, gain: 0 }, { band: 8, gain: -0.25 }] },\n    electronic: { equalizer: [{ band: 0, gain: 0.375 }, { band: 1, gain: 0.350 }, { band: 2, gain: 0.125 }, { band: 5, gain: -0.125 }, { band: 6, gain: -0.125 }] },\n    dance: { equalizer: [{ band: 0, gain: 0.6 }, { band: 1, gain: 0.7 }, { band: 2, gain: 0.2 }, { band: 3, gain: 0 }, { band: 4, gain: 0 }, { band: 5, gain: -0.2 }, { band: 6, gain: -0.5 }, { band: 7, gain: -0.5 }] },\n    classical: { equalizer: [{ band: 0, gain: -0.25 }, { band: 1, gain: -0.25 }, { band: 2, gain: -0.25 }, { band: 3, gain: -0.25 }, { band: 4, gain: -0.25 }, { band: 5, gain: -0.25 }, { band: 6, gain: 0 }, { band: 7, gain: 0.25 }, { band: 8, gain: 0.25 }, { band: 9, gain: 0.25 }, { band: 10, gain: 0.25 }, { band: 11, gain: 0.25 }, { band: 12, gain: 0.25 }, { band: 13, gain: 0.25 }, { band: 14, gain: 0.25 }] },\n    rock: { equalizer: [{ band: 0, gain: 0.3 }, { band: 1, gain: 0.25 }, { band: 2, gain: 0.2 }, { band: 3, gain: 0.1 }, { band: 4, gain: 0.05 }, { band: 5, gain: -0.05 }, { band: 6, gain: -0.15 }, { band: 7, gain: -0.2 }, { band: 8, gain: -0.25 }, { band: 9, gain: -0.25 }] },\n    fullbass: { equalizer: [{ band: 0, gain: 0.25 }, { band: 1, gain: 0.5 }, { band: 2, gain: 0.75 }, { band: 3, gain: 1 }, { band: 4, gain: 0.5 }, { band: 5, gain: 0.25 }] },\n    karaoke: { karaoke: { level: 1.0, monoLevel: 1.0, filterBand: 220.0, filterWidth: 100.0 } },\n    tremolo: { tremolo: { frequency: 2.0, depth: 0.5 } },\n    vibrato: { vibrato: { frequency: 2.0, depth: 0.5 } },\n    rotation: { rotation: { rotationHz: 0.2 } },\n    distortion: { distortion: { sinOffset: 0.0, sinScale: 1.0, cosOffset: 0.0, cosScale: 1.0, tanOffset: 0.0, tanScale: 1.0, offset: 0.0, scale: 1.0 } },\n    lowpass: { lowPass: { smoothing: 20.0 } },\n  };\n\n  public async destroy(reason: DestroyReason = DestroyReason.PlayerDestroyed) {\n    this.node.client.events.emit('playerDestroy', this, reason);\n    await this.node.rest.request('DELETE', `/sessions/${this.node.sessionId}/players/${this.guildId}`);\n  }\n}\n","import { Client } from './Client';\nimport { Player, DestroyReason } from './Player';\n\nexport interface PlayerOptions {\n  guildId: string;\n  nodeName?: string;\n}\n\nexport class PlayMan {\n  public readonly client: Client;\n  public readonly players: Map<string, Player>;\n\n  constructor(client: Client) {\n    this.client = client;\n    this.players = new Map();\n  }\n\n  public create(options: PlayerOptions) {\n    let player = this.players.get(options.guildId);\n    if (player) return player;\n\n    const node = options.nodeName ? this.client.node.get(options.nodeName) : this.client.node.best();\n    if (!node) throw new Error('No available Lavalink nodes');\n\n    player = new Player(node, options.guildId);\n    this.players.set(options.guildId, player);\n    this.client.events.emit('playerCreate', player);\n    return player;\n  }\n\n  public get(guildId: string) {\n    return this.players.get(guildId);\n  }\n\n  public destroy(guildId: string, reason: DestroyReason = DestroyReason.PlayerDestroyed) {\n    const player = this.players.get(guildId);\n    if (player) {\n      player.destroy(reason);\n      this.players.delete(guildId);\n    }\n  }\n\n  public handleVoiceUpdate(data: any) {\n    const player = this.players.get(data.guild_id);\n    if (player) {\n      player.voice.update(data);\n    }\n  }\n}\n","import { Track } from './Track';\n\nexport interface HistoryMetadata {\n    title: string;\n    author: string;\n    uri: string;\n    length: number;\n    source: string;\n    time: number;\n    requester?: any;\n}\n\nexport interface HistoryStore {\n    get: (guildId: string) => Promise<HistoryMetadata[]>;\n    push: (guildId: string, metadata: HistoryMetadata) => Promise<void>;\n    clear: (guildId: string) => Promise<void>;\n}\n\nexport class MemoryHistoryStore implements HistoryStore {\n    private stores = new Map<string, HistoryMetadata[]>();\n\n    async get(guildId: string) {\n        return this.stores.get(guildId) || [];\n    }\n\n    async push(guildId: string, metadata: HistoryMetadata) {\n        const history = this.stores.get(guildId) || [];\n        history.push(metadata);\n        this.stores.set(guildId, history);\n    }\n\n    async clear(guildId: string) {\n        this.stores.delete(guildId);\n    }\n}\n\nexport class History {\n    public readonly guildId: string;\n    private store: HistoryStore;\n    private maxLimit: number;\n\n    constructor(guildId: string, options: { store?: HistoryStore; maxLimit?: number } = {}) {\n        this.guildId = guildId;\n        this.store = options.store || new MemoryHistoryStore();\n        this.maxLimit = options.maxLimit || 30;\n    }\n\n    public async push(track: Track) {\n        if (!track.info) return;\n\n        const metadata: HistoryMetadata = {\n            title: track.info.title,\n            author: track.info.author,\n            uri: track.info.uri,\n            length: track.info.length,\n            source: track.src,\n            time: Date.now(),\n            requester: track.requester\n        };\n\n        const history = await this.store.get(this.guildId);\n        \n        // No duplicates\n        if (history.some(h => h.uri === metadata.uri)) return;\n\n        history.push(metadata);\n\n        // Enforce max limit (Ring buffer)\n        if (history.length > this.maxLimit) {\n            history.shift();\n        }\n\n        // We save the modified array back to the store\n        // My MemoryHistoryStore.push actually pushes to the internal array, \n        // but for general stores we might need to overwrite.\n        // Let's refine HistoryStore interface.\n        await this.store.clear(this.guildId);\n        for (const item of history) {\n            await this.store.push(this.guildId, item);\n        }\n    }\n\n    public async get(max?: number): Promise<HistoryMetadata[]> {\n        const history = await this.store.get(this.guildId);\n        return history.slice(-(max || this.maxLimit));\n    }\n\n    public async clear() {\n        await this.store.clear(this.guildId);\n    }\n\n    public async last(): Promise<HistoryMetadata | null> {\n        const history = await this.store.get(this.guildId);\n        return history.length > 0 ? history[history.length - 1] : null;\n    }\n\n    public async size(): Promise<number> {\n        const history = await this.store.get(this.guildId);\n        return history.length;\n    }\n}\n","import { Track, UnresolvedTrack } from './Track';\nimport { History, HistoryStore, MemoryHistoryStore } from './History';\n\nexport enum LoopMode {\n  None = 'none',\n  Track = 'track',\n  Queue = 'queue',\n}\n\nexport interface StoredQueue {\n  current: Track | null;\n  tracks: (Track | UnresolvedTrack)[];\n}\n\nexport interface QueueStore {\n  get: (guildId: string) => Promise<StoredQueue | null>;\n  set: (guildId: string, value: StoredQueue) => Promise<void>;\n  delete: (guildId: string) => Promise<void>;\n}\n\nexport class MemoryQueueStore implements QueueStore {\n  private stores = new Map<string, StoredQueue>();\n  async get(guildId: string) { return this.stores.get(guildId) || null; }\n  async set(guildId: string, value: StoredQueue) { this.stores.set(guildId, value); }\n  async delete(guildId: string) { this.stores.delete(guildId); }\n}\n\nexport class Queue {\n  public tracks: (Track | UnresolvedTrack)[] = [];\n  public current: Track | null = null;\n  public readonly history: History;\n  public loop: LoopMode = LoopMode.None;\n  public autoplay: boolean = false;\n  private store: QueueStore;\n  private guildId: string;\n\n  constructor(guildId: string, options: { store?: QueueStore; historyStore?: HistoryStore } = {}) {\n    this.guildId = guildId;\n    this.store = options.store || new MemoryQueueStore();\n    this.history = new History(guildId, { store: options.historyStore });\n  }\n\n  public async add(track: (Track | UnresolvedTrack) | (Track | UnresolvedTrack)[]) {\n    if (Array.isArray(track)) {\n      this.tracks.push(...track);\n    } else {\n      this.tracks.push(track);\n    }\n    if (!this.current) {\n      const next = this.tracks.shift();\n      if (next && 'resolve' in next) {\n          this.tracks.unshift(next);\n      } else {\n          this.current = (next as Track) || null;\n      }\n    }\n    await this.save();\n  }\n\n  public async addNext(track: (Track | UnresolvedTrack) | (Track | UnresolvedTrack)[]) {\n    if (Array.isArray(track)) {\n        this.tracks.unshift(...track);\n    } else {\n        this.tracks.unshift(track);\n    }\n    await this.save();\n  }\n\n  public async insert(index: number, track: Track | UnresolvedTrack) {\n      if (index < 0) index = 0;\n      if (index > this.tracks.length) index = this.tracks.length;\n      this.tracks.splice(index, 0, track);\n      await this.save();\n  }\n\n  public async next() {\n    if (this.current) {\n      if (this.loop === LoopMode.Track) {\n        return true;\n      }\n      await this.history.push(this.current);\n\n      if (this.loop === LoopMode.Queue) {\n        this.tracks.push(this.current);\n      }\n    }\n\n    const next = this.tracks.shift();\n    if (next && 'resolve' in next) {\n        this.tracks.unshift(next);\n        this.current = null;\n    } else {\n        this.current = (next as Track) || null;\n    }\n    await this.save();\n    return !!this.current || (this.tracks.length > 0 && 'resolve' in this.tracks[0]);\n  }\n\n  public async skip() {\n    return this.next();\n  }\n\n  public async jump(index: number) {\n      if (index < 0 || index >= this.tracks.length) return null;\n      if (this.current) {\n          await this.history.push(this.current);\n      }\n      const skipped = this.tracks.splice(0, index + 1);\n      const next = skipped.pop()!;\n      if ('resolve' in next) {\n          this.tracks.unshift(next);\n          this.current = null;\n      } else {\n          this.current = next as Track;\n      }\n      await this.save();\n      return this.current;\n  }\n\n  public async previous() {\n      const last = await this.history.last();\n      if (!last) return null;\n\n      // In a real system, we'd need to resolve the URI back to a Track object\n      // But here we might just have metadata. \n      // User said \"Play previous track\".\n      // I'll need to use SrcMan to resolve the URI again.\n      // For now, I'll just mark it as something the Player should handle.\n      // Or maybe the history should store the 'track' (encoded) too?\n      // User said \"Metadata-only storage\".\n      // Let's assume for 'previous' we use the URI.\n      return last;\n  }\n\n  public async move(from: number, to: number) {\n      if (from < 0 || from >= this.tracks.length) return;\n      if (to < 0) to = 0;\n      if (to >= this.tracks.length) to = this.tracks.length - 1;\n      \n      const track = this.tracks.splice(from, 1)[0];\n      this.tracks.splice(to, 0, track);\n      await this.save();\n  }\n\n  public async swap(i1: number, i2: number) {\n      if (i1 < 0 || i1 >= this.tracks.length) return;\n      if (i2 < 0 || i2 >= this.tracks.length) return;\n      [this.tracks[i1], this.tracks[i2]] = [this.tracks[i2], this.tracks[i1]];\n      await this.save();\n  }\n\n  public async dedupe() {\n      const seen = new Set();\n      this.tracks = this.tracks.filter(t => {\n          const id = t.track || t.info?.uri;\n          if (seen.has(id)) return false;\n          seen.add(id);\n          return true;\n      });\n      await this.save();\n  }\n\n  public async shuffle() {\n    for (let i = this.tracks.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [this.tracks[i], this.tracks[j]] = [this.tracks[j], this.tracks[i]];\n    }\n    await this.save();\n  }\n\n  public async clear() {\n    this.tracks = [];\n    this.current = null;\n    await this.history.clear();\n    await this.save();\n  }\n\n  public async remove(index: number) {\n    if (index < 0 || index >= this.tracks.length) return null;\n    const track = this.tracks.splice(index, 1)[0];\n    await this.save();\n    return track;\n  }\n\n  private async save() {\n    await this.store.set(this.guildId, {\n      current: this.current,\n      tracks: this.tracks\n    });\n  }\n\n  public async load() {\n    const data = await this.store.get(this.guildId);\n    if (data) {\n      this.current = data.current;\n      this.tracks = data.tracks;\n    }\n  }\n}\n","import { Client } from './Client';\nimport { Queue } from './Queue';\n\nexport class QMan {\n  public readonly client: Client;\n  public readonly queues: Map<string, Queue>;\n\n  constructor(client: Client) {\n    this.client = client;\n    this.queues = new Map();\n  }\n\n  public get(guildId: string) {\n    let queue = this.queues.get(guildId);\n    if (!queue) {\n      queue = new Queue(guildId);\n      this.queues.set(guildId, queue);\n    }\n    return queue;\n  }\n\n  public delete(guildId: string) {\n    this.queues.delete(guildId);\n  }\n}\n","import { Client } from './Client';\nimport { Track, UnresolvedTrack } from './Track';\n\nexport interface ResolveResult {\n  type: 'track' | 'playlist' | 'search' | 'error';\n  tracks: (Track | UnresolvedTrack)[];\n  playlistName?: string;\n  playlistArtworkUrl?: string;\n}\n\nexport class SrcMan {\n  public readonly client: Client;\n\n  constructor(client: Client) {\n    this.client = client;\n  }\n\n  public async resolve(input: string, requester?: any): Promise<ResolveResult> {\n    if (!this.validateInput(input)) {\n        return { type: 'error', tracks: [] };\n    }\n\n    const node = this.client.node.best();\n    if (!node) throw new Error('No available nodes');\n\n    let identifier = input;\n\n    if (!this.isUrl(input)) {\n      const defaultSearch = this.client.options.defaultSearchPlatform || 'ytsearch';\n      identifier = `${defaultSearch}:${input}`;\n    }\n\n    let data: any = await node.rest.loadTracks(identifier);\n\n    if ((data.loadType === 'empty' || data.loadType === 'error') && this.isUrl(input)) {\n      const defaultSearch = this.client.options.defaultSearchPlatform || 'ytsearch';\n      data = await node.rest.loadTracks(`${defaultSearch}:${input}`);\n    }\n\n    switch (data.loadType) {\n      case 'track':\n        return { type: 'track', tracks: [this.mapTrack(data.data, requester)] };\n      case 'playlist':\n        return {\n          type: 'playlist',\n          tracks: data.data.tracks.map((t: any) => this.mapTrack(t, requester)),\n          playlistName: data.data.info.name,\n          playlistArtworkUrl: data.data.pluginInfo?.artworkUrl || data.data.info?.artworkUrl,\n        };\n      case 'search':\n        return { type: 'search', tracks: data.data.map((t: any) => this.mapTrack(t, requester)) };\n      case 'error':\n        return { type: 'error', tracks: [] };\n      case 'empty':\n        return { type: 'search', tracks: [] };\n      default:\n        return { type: 'error', tracks: [] };\n    }\n  }\n\n  public detectSource(url: string): string {\n      if (url.includes('youtube.com') || url.includes('youtu.be')) return 'youtube';\n      if (url.includes('spotify.com')) return 'spotify';\n      if (url.includes('deezer.com')) return 'deezer';\n      if (url.includes('apple.com')) return 'apple-music';\n      if (url.includes('soundcloud.com')) return 'soundcloud';\n      return 'unknown';\n  }\n\n  public async fallbackSearch(query: string, requester?: any): Promise<ResolveResult> {\n      const defaultSearch = this.client.options.defaultSearchPlatform || 'ytsearch';\n      return this.resolve(`${defaultSearch}:${query}`, requester);\n  }\n\n  public async bestSource(track: Track): Promise<Track> {\n      // Logic to find the best quality source for a track\n      // For now, we'll just return the track as is, \n      // but in a real implementation we could try to resolve it on other platforms.\n      return track;\n  }\n\n  public createUnresolved(query: string, requester?: any): UnresolvedTrack {\n      const track: UnresolvedTrack = {\n          resolve: async (player) => {\n              const res = await this.resolve(query, requester);\n              if (res.tracks.length > 0 && !('resolve' in res.tracks[0])) {\n                  const resolved = res.tracks[0] as Track;\n                  Object.assign(track, resolved);\n                  const queue = player.node.client.queue.get(player.guildId);\n                  if (queue.current === track) {\n                      queue.current = track as Track;\n                  }\n                  return true;\n              }\n              return false;\n          },\n          info: { title: query } as any,\n          requester\n      };\n      return track;\n  }\n\n  private validateInput(input: string): boolean {\n    const { whitelist, blacklist } = this.client.options;\n    if (whitelist && whitelist.length > 0) {\n        return whitelist.some(domain => input.includes(domain));\n    }\n    if (blacklist && blacklist.length > 0) {\n        return !blacklist.some(domain => input.includes(domain));\n    }\n    return true;\n  }\n\n  private isUrl(input: string) {\n    try {\n      new URL(input);\n      return true;\n    } catch {\n      return false;\n    }\n  }\n\n  private mapTrack(data: any, requester?: any): Track {\n    if (data.info && !data.info.duration && data.info.length) {\n      data.info.duration = data.info.length;\n    }\n\n    if (data.info && !data.info.artworkUrl && data.pluginInfo?.artworkUrl) {\n      data.info.artworkUrl = data.pluginInfo.artworkUrl;\n    }\n\n    if (data.info && !data.info.artworkUrl && data.info.image) {\n        data.info.artworkUrl = data.info.image;\n    }\n    \n    return {\n      track: data.encoded,\n      info: data.info,\n      pluginInfo: data.pluginInfo || {},\n      src: data.info.sourceName,\n      requester\n    };\n  }\n}\n","import { EventEmitter } from 'events';\nimport { Client } from './Client';\nimport { Node } from './NodeMan';\nimport { Player, DestroyReason } from './Player';\nimport { Track } from './Track';\n\nexport interface LavxEvents {\n  nodeConnect: (node: Node) => void;\n  nodeDisconnect: (node: Node, code: number, reason: string) => void;\n  nodeError: (node: Node, error: Error) => void;\n  nodeReconnect: (node: Node) => void;\n  nodeReady: (node: Node, payload: any) => void;\n  playerCreate: (player: Player) => void;\n  playerDestroy: (player: Player, reason: DestroyReason) => void;\n  playerMove: (player: Player, oldChannelId: string | null, newChannelId: string | null) => void;\n  playerDisconnect: (player: Player, code: number, reason: string, byRemote: boolean) => void;\n  trackStart: (player: Player, track: string) => void;\n  trackEnd: (player: Player, track: string, reason: string) => void;\n  trackError: (player: Player, track: string, exception: any) => void;\n  trackStuck: (player: Player, track: string, thresholdMs: number) => void;\n  queueEnd: (player: Player) => void;\n  raw: (payload: any) => void;\n}\n\nexport class EvtMan extends EventEmitter {\n  public readonly client: Client;\n\n  constructor(client: Client) {\n    super();\n    this.client = client;\n  }\n\n  public override emit<K extends keyof LavxEvents>(event: K, ...args: Parameters<LavxEvents[K]>): boolean {\n    return super.emit(event, ...args);\n  }\n\n  public override on<K extends keyof LavxEvents>(event: K, listener: LavxEvents[K]): this {\n    return super.on(event, listener);\n  }\n\n  public override once<K extends keyof LavxEvents>(event: K, listener: LavxEvents[K]): this {\n    return super.once(event, listener);\n  }\n}\n","import { Client as DjsClient } from 'discord.js';\nimport { NodeMan } from './NodeMan';\nimport { PlayMan } from './PlayMan';\nimport { DestroyReason } from './Player';\nimport { QMan } from './QMan';\nimport { SrcMan } from './SrcMan';\nimport { EvtMan } from './EvtMan';\n\nexport interface LavxOptions {\n  nodes: NodeOptions[];\n  send?: (guildId: string, payload: any) => void;\n  defaultSearchPlatform?: string;\n  maxReconnectAttempts?: number;\n  whitelist?: string[];\n  blacklist?: string[];\n}\n\nexport interface NodeOptions {\n  name?: string;\n  host: string;\n  port: number;\n  auth: string;\n  secure?: boolean;\n}\n\nexport class Client {\n  public readonly discord: DjsClient;\n  public readonly node: NodeMan;\n  public readonly play: PlayMan;\n  public readonly queue: QMan;\n  public readonly src: SrcMan;\n  public readonly events: EvtMan;\n  public readonly options: LavxOptions;\n\n  constructor(discord: DjsClient, options: LavxOptions) {\n    this.discord = discord;\n    this.options = {\n      defaultSearchPlatform: 'ytsearch',\n      ...options,\n    };\n\n    this.events = new EvtMan(this);\n    this.node = new NodeMan(this);\n    this.play = new PlayMan(this);\n    this.queue = new QMan(this);\n    this.src = new SrcMan(this);\n\n    this.init();\n  }\n\n  private init() {\n    this.discord.on('raw', (packet) => {\n      if (packet.t === 'VOICE_SERVER_UPDATE' || packet.t === 'VOICE_STATE_UPDATE') {\n        this.play.handleVoiceUpdate(packet.d);\n      }\n      if (packet.t === 'CHANNEL_DELETE') {\n        const guildId = packet.d.guild_id;\n        const channelId = packet.d.id;\n        const player = this.play.get(guildId);\n        if (player && player.voice.channelId === channelId) {\n          player.destroy(DestroyReason.ChannelDeleted);\n        }\n      }\n    });\n\n    for (const nodeOptions of this.options.nodes) {\n      this.node.add(nodeOptions);\n    }\n\n    this.events.on('nodeDisconnect', (node) => {\n      this.node.migrate(node);\n    });\n  }\n\n  public sendGatewayPayload(guildId: string, payload: any) {\n    if (this.options.send) {\n      this.options.send(guildId, payload);\n    } else {\n      const guild = this.discord.guilds.cache.get(guildId);\n      if (guild) {\n        guild.shard.send(payload);\n      }\n    }\n  }\n\n  public async playInput(guildId: string, input: string, requester?: any) {\n    const resolved = await this.src.resolve(input);\n    if (!resolved || !resolved.tracks.length) return null;\n\n    const player = this.play.get(guildId) || this.play.create({ guildId });\n    const queue = this.queue.get(guildId);\n\n    if (resolved.type === 'playlist') {\n      for (const track of resolved.tracks) {\n        queue.add({ ...track, requester });\n      }\n    } else {\n      queue.add({ ...resolved.tracks[0], requester });\n    }\n\n    if (!player.playing && !player.paused && queue.current) {\n      await player.play();\n    }\n\n    return resolved;\n  }\n}\n","export const PlatformMap: Record<string, string> = {\n  spotify: 'spsearch',\n  apple: 'amsearch',\n  deezer: 'dzsearch',\n  yandex: 'ymsearch',\n  youtube: 'ytsearch',\n  'youtube music': 'ytmsearch',\n  soundcloud: 'scsearch',\n};\n"],"mappings":"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","names":["WebSocket","DestroyReason","LoopMode"]}